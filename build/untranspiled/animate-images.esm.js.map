{"version":3,"file":"animate-images.esm.js","sources":["../../src/utils.js","../../src/settings.js","../../src/ImagePreloader.js","../../src/Render.js","../../src/Animation.js","../../src/Poster.js","../../src/DragInput.js","../../src/AnimateImages.js"],"sourcesContent":["export function normalizeFrameNumber(frameNumber, totalImages){\r\n    frameNumber = Math.floor(frameNumber);\r\n    if (frameNumber <= 0) {\r\n        return 1;\r\n    } else if (frameNumber > totalImages) {\r\n        return totalImages;\r\n    }\r\n    return frameNumber;\r\n}\r\n\r\nexport function calculateFullAnimationDuration(imagesNumber, fps){\r\n    return imagesNumber / fps  * 1000;\r\n}\r\n\r\nexport function uppercaseFirstChar(word){\r\n    return word.charAt(0).toUpperCase() + word.slice(1);\r\n}","export function validateInitParameters(node, options){\r\n    if ( !(node instanceof HTMLCanvasElement) ) { // Check dom node\r\n        throw new TypeError('node is required and should be canvas element');\r\n    }\r\n    if (!options.images || !Array.isArray(options.images) || options.images.length <= 1 ) { // Check images list\r\n        throw new TypeError('options.images is required and must be an array with more than 1 element');\r\n    }\r\n    // if ( (\"preload\" in options) && // Check preload type\r\n    //     (\r\n    //         !(typeof options.preload  === \"string\")\r\n    //         || !(options.preload === \"all\" || options.preload === \"none\" || options.preload === \"partial\")\r\n    //     )\r\n    // ) {\r\n    //     throw new TypeError('options.preload must be one of these: all, none, partial');\r\n    // }\r\n    // if ( (\"preloadNumber\" in options)\r\n    //     && !( Number.isInteger(Number.parseInt(options.preloadNumber)) && Number.parseInt(options.preloadNumber) >= 0 )\r\n    // ) {\r\n    //     throw new TypeError('options.preloadNumber must be number >= 0');\r\n    // }\r\n    if ('preloadNumber' in options) options.preloadNumber = Number.parseInt(options.preloadNumber); // Allow number as a string\r\n    if (\"fillMode\" in options && !['cover', 'contain'].includes(options.fillMode))  delete options['fillMode'];\r\n    if ('dragModifier' in options) options.dragModifier = Math.abs(+options.dragModifier);\r\n}\r\n\r\nexport const defaultSettings = {\r\n    preload: \"all\",\r\n    preloadNumber: 0,\r\n    poster: false,\r\n    fps: 30,\r\n    loop: false,\r\n    autoplay: false,\r\n    reverse: false,\r\n    ratio: undefined,\r\n    fillMode: \"cover\",\r\n\r\n    draggable: false,\r\n    inversion: false,\r\n    dragModifier: 1,\r\n    touchScrollMode: \"pageScrollTimer\",\r\n    pageScrollTimerDelay: 1500,\r\n    responsiveAspect: \"width\",\r\n\r\n    fastPreview: false,\r\n\r\n    onFastPreloadFinished: noOp,\r\n    onPreloadFinished: noOp,\r\n    onPosterLoaded: noOp,\r\n    onAnimationEnd: noOp,\r\n    onBeforeFrame: noOp,\r\n    onAfterFrame: noOp,\r\n}\r\n\r\nexport const eventPrefix = \"animate-images:\";\r\n\r\nfunction noOp(){}\r\n","import { eventPrefix } from \"./settings\";\r\n\r\nexport default class ImagePreloader{\r\n\r\n    constructor( {settings, data, updateImagesCount, getFramesLeft} ) {\r\n        this._settings = settings;\r\n        this._data = data;\r\n        this._updateImagesCount = updateImagesCount;\r\n        this._getFramesLeft = getFramesLeft;\r\n\r\n        // Public\r\n        this._isPreloadFinished = false;// onload on all the images\r\n        this._isFastPreloadFinished = false;// images from fastPreload mode\r\n        this._isAnyPreloadFinished = false;\r\n        this._isLoadedWithErrors = false;\r\n\r\n        // Internal\r\n        this._preloadOffset = 0;// images already in queue\r\n        this._preloadedCount = 0;// count of loaded images\r\n        this._tempImagesArray = []; // store images before they are fully loaded\r\n        this._failedImages = [];\r\n        this._currentMode = \"default\";// \"default\" or \"fast\"\r\n        this._modes = {\r\n            default: {\r\n                images: this._settings.images,\r\n                event: eventPrefix + \"preload-finished\",\r\n                callback: this._settings.onPreloadFinished,\r\n            },\r\n            fast: {\r\n                images: this._settings?.fastPreview.images,\r\n                event: eventPrefix + \"fast-preload-finished\",\r\n                callback: this._settings.onFastPreloadFinished,\r\n            }\r\n        }\r\n\r\n        // set mode if fast preview\r\n        if (this._settings.fastPreview) {\r\n            if ( !this._settings.fastPreview.images ) {\r\n                throw new TypeError('fastPreview.images is required when fastPreview is enabled');\r\n            }\r\n            this._currentMode = \"fast\";\r\n            this._data.totalImages = this._settings.fastPreview.images.length;\r\n        }\r\n        this._totalImages = this._data.totalImages; // get initial value for the first time, update when fast => default mode\r\n    }\r\n\r\n    /**\r\n     * Add number of images to loading queue\r\n     * @param {number} [preloadNumber] - number of images to load\r\n     */\r\n    _startLoading(preloadNumber){\r\n        if (this._isPreloadFinished) return;\r\n        if ( !preloadNumber ) preloadNumber = this._totalImages;\r\n        preloadNumber = Math.round(preloadNumber);\r\n\r\n        // if too many, load just the rest\r\n        const unloadedCount = this._totalImages - this._preloadOffset;\r\n        if (preloadNumber > unloadedCount){\r\n            preloadNumber = unloadedCount;\r\n        }\r\n\r\n        // true when all the images are in queue but not loaded yet, (unloadedCount = preloadNumber = 0)\r\n        if (preloadNumber <= 0) return;\r\n\r\n        //console.log(`start loop, preloadNumber=${preloadNumber}, offset=${this._preloadOffset}`);\r\n        for (let i = this._preloadOffset; i < (preloadNumber + this._preloadOffset); i++){\r\n            let img = new Image();\r\n            img.onload = img.onerror = this.#onImageLoad.bind(this);\r\n            img.src = this._modes[this._currentMode].images[i]\r\n            this._tempImagesArray[i] = img;\r\n        }\r\n        this._preloadOffset = this._preloadOffset + preloadNumber;\r\n    }\r\n\r\n    #onImageLoad(e){\r\n        this._preloadedCount++;\r\n        const progress = Math.floor((this._preloadedCount/this._totalImages) * 1000) / 1000 ;\r\n        this._data.canvas.element.dispatchEvent( new CustomEvent(eventPrefix + 'loading-progress', {detail: {progress}}) );\r\n        if (e.type === \"error\") {\r\n            this._isLoadedWithErrors = true;\r\n            const path = e.path || (e.composedPath && e.composedPath());\r\n            this._failedImages.push(path[0]);\r\n            this._data.canvas.element.dispatchEvent( new Event(eventPrefix + 'loading-error') );\r\n        }\r\n        if (this._preloadedCount >= this._totalImages) {\r\n            if ( this._isLoadedWithErrors ) this.#clearImagesArray();\r\n            this.#afterPreloadFinishes();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove failed images from array\r\n     */\r\n    #clearImagesArray(){\r\n        if ( this._failedImages.length < 1) return;\r\n        this._tempImagesArray = this._tempImagesArray.filter((el) => {\r\n            return !this._failedImages.includes(el);\r\n        });\r\n    }\r\n\r\n    #afterPreloadFinishes(){ // check what to do next\r\n        if (this._currentMode === \"default\"){\r\n            this._isPreloadFinished = true;\r\n        } else {\r\n            this._isFastPreloadFinished = true;\r\n        }\r\n        this._isAnyPreloadFinished = true; // variable for checks from main plugin\r\n        this._data.loadedImagesArray = [...this._tempImagesArray];\r\n        this._data.totalImages = this._tempImagesArray.length;\r\n        this._updateImagesCount();\r\n\r\n        // we should call deferredAction and callback after \"setFrame\" inside next \"if\", because setFrame will replace\r\n        // these actions, so save current mode before it will be changed inside \"if\", and use for  deferredAction and callback\r\n        const savedMode = this._currentMode;\r\n        const plugin = this._data.pluginApi;\r\n        // code below executes only if fastPreview is set\r\n        if ( this._currentMode === \"fast\" ) { // fast preload has ended\r\n            this._currentMode = \"default\";\r\n            this._tempImagesArray = [];\r\n            this._preloadOffset = this._preloadedCount = 0;\r\n            this._totalImages = this._settings.images.length; // update for default preload mode\r\n            // start preload full list if we have action, that started after fast preload end\r\n            if ( this._data.deferredAction ) this._startLoading();\r\n        } else if ( this._currentMode === \"default\" && this._settings.fastPreview ) { // default preload has ended (only after fast),\r\n            // replace small sequence with full and change frame\r\n            if (this._settings?.fastPreview.fpsAfter) plugin.setOption(\"fps\", this._settings?.fastPreview.fpsAfter)\r\n            const wasAnimating = plugin.isAnimating();\r\n            const framesAreInQueue = typeof this._getFramesLeft() !== 'undefined'; // true if playTo or playFrames is active\r\n            const matchFrame = this._settings?.fastPreview.matchFrame;\r\n            plugin.setFrame( matchFrame ? matchFrame(this._data.currentFrame) : 1 );\r\n            // play() => continue, playTo() or playFrames() => stop, because it is impossible\r\n            // to calculate new target frame from _framesLeftToPlay\r\n            //https://github.com/its2easy/animate-images/issues/7#issuecomment-1210624687\r\n            if ( wasAnimating && !framesAreInQueue ) plugin.play();\r\n        }\r\n\r\n        // actions and callbacks\r\n        if (this._data.deferredAction) {\r\n            this._data.deferredAction();\r\n            // clear to prevent from being called twice when action was queued before the end of fastPreview preload\r\n            this._data.deferredAction = null;\r\n        }\r\n        this._data.canvas.element.dispatchEvent( new Event(this._modes[savedMode].event) );\r\n        this._modes[savedMode].callback(plugin);\r\n\r\n    }\r\n\r\n    // Case when fast preload had ended, but we don't have deferred action, because action started with preview frames,\r\n    // this is possible only with preload=\"all\"; or with any preload after plugin.preloadImages() before any action,\r\n    // and we have to start full preload here.\r\n    // This function is called only after frame change was requested.\r\n    _maybePreloadAll(){\r\n        if (this._settings.fastPreview && !this._isPreloadFinished) this._startLoading();\r\n    }\r\n\r\n}\r\n","export default class Render{\r\n\r\n    constructor( {settings, data} ) {\r\n        this._settings = settings;\r\n        this._data = data;\r\n        /** @type CanvasRenderingContext2D */\r\n        this._context = this._data.canvas.element.getContext(\"2d\");\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLImageElement} imageObject - image object\r\n     */\r\n    _drawFrame(imageObject){\r\n        //this._context.imageSmoothingEnabled = false; // may reduce blurriness, but could make the image worse (resets to true  after resize)\r\n\r\n        let sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight;\r\n        if (this._settings.fillMode === \"cover\") {\r\n            ( {sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight} = this.#getDrawImageCoverProps(imageObject) )\r\n        } else if ( this._settings.fillMode === \"contain\" ) {\r\n            ( {sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight} = this.#getDrawImageContainProps(imageObject) )\r\n        }\r\n\r\n        //console.log(`sx= ${sx}, sy=${sy}, sWidth=${sWidth}, sHeight=${sHeight}, dx=${dx}, dy=${dy}, dWidth=${dWidth}, dHeight=${dHeight}`);\r\n        const canvasEl = this._data.canvas.element;\r\n        this._settings.onBeforeFrame(this._data.pluginApi,\r\n            {context: this._context, width: canvasEl.width, height: canvasEl.height});\r\n\r\n        this._context.drawImage(imageObject, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\r\n\r\n        this._settings.onAfterFrame(this._data.pluginApi,\r\n            {context: this._context, width: canvasEl.width, height: canvasEl.height});\r\n    }\r\n\r\n    _clearCanvas(){\r\n        const canvasEl = this._data.canvas.element;\r\n        this._context.clearRect(0, 0, canvasEl.width, canvasEl.height);\r\n    }\r\n\r\n    #getDrawImageCoverProps(image){\r\n        //https://stackoverflow.com/questions/21961839/simulation-background-size-cover-in-canvas\r\n        let dx = 0,\r\n            dy = 0,\r\n            canvasWidth = this._data.canvas.element.width,\r\n            canvasHeight = this._data.canvas.element.height,\r\n            imageWidth = image.naturalWidth,\r\n            imageHeight = image.naturalHeight,\r\n            offsetX = 0.5,\r\n            offsetY = 0.5,\r\n            minRatio = Math.min(canvasWidth / imageWidth, canvasHeight / imageHeight),\r\n            newWidth = imageWidth * minRatio,   // new prop. width\r\n            newHeight = imageHeight * minRatio,   // new prop. height\r\n            sx, sy, sWidth, sHeight, ar = 1;\r\n\r\n        // decide which gap to fill\r\n        if (newWidth < canvasWidth) ar = canvasWidth / newWidth;\r\n        if (Math.abs(ar - 1) < 1e-14 && newHeight < canvasHeight) ar = canvasHeight / newHeight;  // updated\r\n        newWidth *= ar;\r\n        newHeight *= ar;\r\n\r\n        // calc source rectangle\r\n        sWidth = imageWidth / (newWidth / canvasWidth);\r\n        sHeight = imageHeight / (newHeight / canvasHeight);\r\n\r\n        sx = (imageWidth - sWidth) * offsetX;\r\n        sy = (imageHeight - sHeight) * offsetY;\r\n\r\n        // make sure source rectangle is valid\r\n        if (sx < 0) sx = 0;\r\n        if (sy < 0) sy = 0;\r\n        if (sWidth > imageWidth) sWidth = imageWidth;\r\n        if (sHeight > imageHeight) sHeight = imageHeight;\r\n\r\n        return { sx, sy, sWidth, sHeight, dx, dy, dWidth: canvasWidth, dHeight: canvasHeight };\r\n    }\r\n    #getDrawImageContainProps(image){\r\n        let canvasWidth = this._data.canvas.element.width,\r\n            canvasHeight = this._data.canvas.element.height,\r\n            imageWidth = image.naturalWidth,\r\n            imageHeight = image.naturalHeight,\r\n            sx = 0,\r\n            sy = 0,\r\n            sWidth = imageWidth,\r\n            sHeight = imageHeight,\r\n            dx,\r\n            dy,\r\n            offsetX = 0.5,\r\n            offsetY = 0.5,\r\n            ratioX = canvasWidth / imageWidth,\r\n            ratioY = canvasHeight / imageHeight,\r\n            minRation = Math.min(ratioX, ratioY),\r\n            newWidth = imageWidth * minRation,\r\n            newHeight = imageHeight * minRation;\r\n\r\n        dx = (canvasWidth - newWidth) * offsetX;\r\n        dy = (canvasHeight - newHeight) * offsetY;\r\n\r\n        return { sx, sy, sWidth, sHeight, dx, dy, dWidth: newWidth, dHeight: newHeight};\r\n    }\r\n}\r\n","import { eventPrefix } from \"./settings\";\r\n\r\nexport default class Animation{\r\n    // Public\r\n    _isAnimating;\r\n    _framesLeftToPlay; // frames from playTo() and playFrames()\r\n\r\n    // Internal\r\n    _lastUpdate; // time from RAF\r\n    _duration; // time of the full animation sequence\r\n    _stopRequested;\r\n    _framesQueue; // save decimal part if deltaFrames is not round, to prevent rounding errors\r\n    _progressThreshold; // >35% mea`ns that there was a long task in callstack\r\n\r\n    constructor( {settings, data, changeFrame} ) {\r\n        this._settings = settings;\r\n        this._data = data;\r\n        this._changeFrame = changeFrame;\r\n\r\n        this._stopRequested = false;\r\n        this._isAnimating = false;\r\n        this._framesQueue = 0;\r\n        this._progressThreshold = 0.35;\r\n\r\n        this._updateDuration();\r\n    }\r\n\r\n    _play(){\r\n        this._isAnimating = true;\r\n         this._stopRequested = false; // fix for the case when stopRequested was set inside getNextFrame that was called outside #animate\r\n        if ( !this._data.isAnyFrameChanged ) { // 1st paint, direct call because 1st frame wasn't drawn\r\n            this._changeFrame(1);\r\n            // subtract 1 manually, because changeFrame is calling not from animate(), but directly\r\n            if ( Number.isFinite(this._framesLeftToPlay) ) this._framesLeftToPlay--; // undefined-- = NaN\r\n        }\r\n\r\n         this._lastUpdate = null;// first 'lastUpdate' should be always set in the first raf of the current animation\r\n        requestAnimationFrame(this.#animate.bind(this));\r\n    }\r\n    _stop(){\r\n        const wasAnimating = this._isAnimating;\r\n        this._isAnimating = false;\r\n        this._framesLeftToPlay = undefined;\r\n        if ( wasAnimating ){ // !!! callbacks and events should be called after all the values are reset\r\n            this._data.canvas.element.dispatchEvent( new Event(eventPrefix + 'animation-end') );\r\n            this._settings.onAnimationEnd(this._data.pluginApi);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get next frame number, based on current state and settings\r\n     * @param {Number} deltaFrames -\r\n     * @param {Boolean} reverse\r\n     * @returns {number|*}\r\n     */\r\n    _getNextFrame(deltaFrames, reverse = undefined){\r\n        deltaFrames = Math.floor(deltaFrames); //just to be safe\r\n        // Handle reverse\r\n        if ( reverse === undefined ) reverse = this._settings.reverse;\r\n        let newFrameNumber = reverse ? this._data.currentFrame - deltaFrames : this._data.currentFrame + deltaFrames\r\n\r\n        // Handle loop\r\n        if (this._settings.loop) { // loop and outside of the frames\r\n            if (newFrameNumber <= 0) {\r\n                // for example newFrame = -2, total = 50, newFrame = 50 - abs(-2) = 48\r\n                newFrameNumber = this._data.totalImages - Math.abs(newFrameNumber);\r\n            }\r\n            else if (newFrameNumber > this._data.totalImages) {\r\n                // for example newFrame = 53, total 50, newFrame = newFrame - totalFrames = 53 - 50 = 3\r\n                newFrameNumber = newFrameNumber - this._data.totalImages;\r\n            }\r\n        } else { // no loop and outside of the frames\r\n            if (newFrameNumber <= 0) {\r\n                newFrameNumber = 1;\r\n                this._stopRequested = true;\r\n            }\r\n            else if (newFrameNumber > this._data.totalImages) {\r\n                newFrameNumber = this._data.totalImages;\r\n                 this._stopRequested = true;\r\n            }\r\n        }\r\n        return  newFrameNumber;\r\n    }\r\n\r\n    // RAF callback\r\n    // (chrome) 'timestamp' is timestamp from the moment the RAF callback was queued\r\n    // (firefox) 'timestamp' is timestamp from the moment the RAF callback was called\r\n    // the difference is equal to the time that the main thread was executing after raf callback was queued\r\n    #animate(timestamp){\r\n        if ( !this._isAnimating ) return;\r\n\r\n        // lastUpdate is setting here because the time between play() and #animate() is unpredictable, and\r\n        // lastUpdate = performance.now instead of timestamp because timestamp is unpredictable and depends on the browser.\r\n        // Possible frame change in the first raf will always be skipped, because time <= performance.now\r\n        if ( ! this._lastUpdate)  this._lastUpdate = performance.now();\r\n\r\n        let deltaFrames;\r\n        // Check if there was a long task between this and the last frame, if so move 1 fixed frame and change lastUpdate to now\r\n        // to prevent animation jump. (1,2,3,long task,75,76,77, ... => 1,2,3,long task,4,5,6,...)\r\n        // In this case the duration will be longer\r\n        let isLongTaskBeforeRaf = (Math.abs(timestamp - performance.now()) /  this._duration) >  this._progressThreshold; //chrome check\r\n        let progress = ( timestamp -  this._lastUpdate ) /  this._duration; // e.g. 0.01\r\n        if ( progress >  this._progressThreshold ) isLongTaskBeforeRaf = true; // firefox check\r\n\r\n        if (isLongTaskBeforeRaf) deltaFrames = 1; // raf after long task, just move to the next frame\r\n        else { // normal execution, calculate progress after the last frame change\r\n            if (progress < 0) progress = 0; //it happens sometimes, when raf timestamp is from the past for some reason\r\n            deltaFrames = progress * this._data.totalImages; // Frame change step, e.g. 0.45 or 1.25\r\n            // e.g. progress is 0.8 frames, queue is 0.25 frames, so now deltaFrames is 1.05 frames and we need to update canvas,\r\n            // without this raf intervals will cause cumulative rounding errors, and actual fps will decrease\r\n            deltaFrames = deltaFrames +  this._framesQueue;\r\n        }\r\n\r\n        // calculate next frame only when we want to render\r\n        // if the getNextFrame check was outside, getNextFrame would be called at screen fps rate, not animation fps\r\n        // if screen fps 144 and animation fps 30, getNextFrame is calling now 30/s instead of 144/s.\r\n        // After the last frame, raf is repeating until the next frame calculation,\r\n        // between the last frame drawing and new frame time, reverse or loop could be changed, and animation won't stop\r\n        if ( deltaFrames >= 1) { // Calculate only if we need to update 1 frame or more\r\n            const newLastUpdate = isLongTaskBeforeRaf ? performance.now() : timestamp;\r\n\r\n            this._framesQueue = deltaFrames % 1; // save decimal part for the next RAFs\r\n            deltaFrames = Math.floor(deltaFrames) % this._data.totalImages;\r\n            if ( deltaFrames > this._framesLeftToPlay ) deltaFrames = this._framesLeftToPlay;// case when  animation fps > device fps\r\n            const newFrame = this._getNextFrame( deltaFrames );\r\n            if ( this._stopRequested ) { // animation ended from check in getNextFrame()\r\n                this._data.pluginApi.stop();\r\n                this._stopRequested = false;\r\n                if (this._data.pluginApi.getCurrentFrame() !== newFrame ) this._changeFrame(newFrame); //last frame fix if fps > device fps\r\n            } else { // animation is on\r\n                this._lastUpdate = newLastUpdate;\r\n                this._changeFrame(newFrame);\r\n                if (typeof this._framesLeftToPlay !== 'undefined') {\r\n                    this._framesLeftToPlay = this._framesLeftToPlay - deltaFrames;\r\n                    // if 0 frames left, stop immediately, don't wait for the next frame calculation\r\n                    // because if isAnimating become true, this will be a new animation\r\n                    if ( this._framesLeftToPlay <= 0 ) this._data.pluginApi.stop();\r\n                }\r\n            }\r\n        }\r\n        if ( this._isAnimating ) requestAnimationFrame(this.#animate.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Recalculate animation duration after fps or totalImages change\r\n     */\r\n    _updateDuration(){\r\n         this._duration =  this._data.totalImages / this._settings.fps  * 1000;\r\n    }\r\n}\r\n","import { eventPrefix } from \"./settings\";\r\n\r\nexport default class Poster{\r\n    // Internal\r\n    _imageObject;\r\n    _isPosterLoaded;\r\n\r\n    constructor({settings, data, drawFrame}) {\r\n        this._settings = settings;\r\n        this._data = data;\r\n        this._drawFrame = drawFrame;\r\n\r\n        this._isPosterLoaded = false;\r\n    }\r\n\r\n    /**\r\n     * Start loading poster, then  show if needed\r\n     */\r\n    _loadAndShowPoster(){\r\n        if (this._settings.poster && !this._data.isAnyFrameChanged) {\r\n            this._imageObject = new Image();\r\n            this._imageObject.onload = this._imageObject.onerror = this.#onPosterLoaded.bind(this);\r\n            this._imageObject.src = this._settings.poster;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Redraw poster after canvas change if the poster was loaded\r\n     */\r\n    _redrawPoster(){\r\n        if ( this._data.isAnyFrameChanged || !this._isPosterLoaded ) return;\r\n        this.#drawPoster();\r\n    }\r\n\r\n    #onPosterLoaded(e){\r\n        if (e.type === \"error\") return;\r\n        this._isPosterLoaded = true;\r\n        this._data.canvas.element.dispatchEvent( new Event(eventPrefix + 'poster-loaded') );\r\n        this._settings.onPosterLoaded(this._data.pluginApi);\r\n        // show only if there wasn't any frame change from initial\r\n        // if poster loaded after all the images and any action, it won't be shown\r\n        if ( !this._data.isAnyFrameChanged ) {\r\n            this.#drawPoster();\r\n        }\r\n    }\r\n\r\n    #drawPoster(){\r\n        this._drawFrame(this._imageObject);\r\n    }\r\n}\r\n","import { eventPrefix } from \"./settings\";\r\n\r\nexport default class DragInput{\r\n    // Public\r\n    _isSwiping = false;\r\n\r\n    // Internal\r\n    _curX;\r\n    _curY;\r\n    _prevX;\r\n    _prevY;\r\n    _threshold;\r\n    _pixelsCorrection;\r\n    _lastInteractionTime;\r\n    _prevDirection;\r\n\r\n    constructor({ data, settings, changeFrame, getNextFrame }) {\r\n        this._data = data;\r\n        this._settings = settings;\r\n        this._changeFrame = changeFrame;\r\n        this._getNextFrame = getNextFrame;\r\n\r\n        this._SWIPE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'touchstart', 'touchmove', 'touchend', 'touchcancel'];\r\n        this._isSwiping = false;\r\n        this._boundSwipeHandler = this.#swipeHandler.bind(this);\r\n        this._pixelsCorrection = 0;\r\n\r\n        this._updateThreshold();\r\n    }\r\n\r\n    /**\r\n     * Enable rotating by mouse or touch drag\r\n     */\r\n    _enableDrag(){\r\n        this._SWIPE_EVENTS.forEach( (value) => {\r\n            this._data.canvas.element.addEventListener(value, this._boundSwipeHandler);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Disable rotating by mouse or touch drag\r\n     */\r\n    _disableDrag(){\r\n        this._SWIPE_EVENTS.forEach( (value) => {\r\n            this._data.canvas.element.removeEventListener(value, this._boundSwipeHandler);\r\n        })\r\n        // if disabling while swipeMove is running\r\n        document.removeEventListener('mouseup', this._boundSwipeHandler);\r\n        document.removeEventListener('mousemove', this._boundSwipeHandler);\r\n        this._data.canvas.element.style.cursor = null;\r\n    }\r\n\r\n    /**\r\n     * Update one frame threshold in pixels\r\n     * @param newValue\r\n     */\r\n    _updateThreshold(newValue = null){\r\n        if (newValue) {\r\n            this._threshold = newValue;\r\n        }\r\n        else {\r\n            this._threshold = this._data.canvas.element.clientWidth / this._data.totalImages;\r\n        }\r\n    }\r\n\r\n\r\n    #swipeHandler(event) {\r\n        // get current click/touch point\r\n        let touches;\r\n        if ( event.touches !== undefined && event.touches.length ) touches = event.touches;\r\n        this._curX = (touches) ? touches[0].pageX : event.clientX;\r\n        this._curY = (touches) ? touches[0].pageY : event.clientY;\r\n\r\n        switch (event.type){\r\n            case 'mousedown': // start\r\n            case 'touchstart':\r\n                if ( event.type === 'touchstart' && event.cancelable ) {\r\n                    //event.preventDefault();\r\n                    this.#maybeDisableScroll(event);\r\n                }\r\n                document.addEventListener('mouseup', this._boundSwipeHandler); // move outside of the canvas\r\n                document.addEventListener('mousemove', this._boundSwipeHandler);\r\n                this.#swipeStart();\r\n                break;\r\n            case 'mousemove':\r\n            case 'touchmove': //move\r\n                // ignore mousemove without move (to prevent fake \"left\" movement)\r\n                const wasMoved = (this._prevX !== this._curX && this._prevY !== this._curX);\r\n                if ( this._isSwiping && wasMoved) {\r\n                    //if ( event.type === 'touchmove' && event.cancelable) event.preventDefault();\r\n                    this.#swipeMove();\r\n                }\r\n                break;\r\n            case 'mouseup':\r\n            case 'touchend':\r\n            case 'touchcancel': // end\r\n                //if ( (event.type === 'touchend' || event.type === 'touchcancel') && event.cancelable) event.preventDefault();\r\n                if ( this._isSwiping ) {\r\n                    document.removeEventListener('mouseup', this._boundSwipeHandler);\r\n                    document.removeEventListener('mousemove', this._boundSwipeHandler);\r\n                    this.#swipeEnd();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    #swipeStart(){\r\n        const plugin = this._data.pluginApi;\r\n        if ( !(plugin.isFastPreloadFinished() || plugin.isPreloadFinished()) ) return;\r\n        // trigger full load after user interaction after fast preload finished\r\n        if (this._settings.fastPreview && !plugin.isPreloadFinished() && plugin.isFastPreloadFinished()) {\r\n            plugin.preloadImages();\r\n        }\r\n        plugin.stop();\r\n        this._isSwiping = true;\r\n        this._data.canvas.element.style.cursor = 'grabbing';\r\n        this._prevX = this._curX;\r\n        this._prevY = this._curY;\r\n        this._data.canvas.element.dispatchEvent( new CustomEvent(eventPrefix + 'drag-start',\r\n            { detail: {frame: this._data.currentFrame} })\r\n        );\r\n    }\r\n    #swipeMove(){\r\n        const direction = this.#swipeDirection();\r\n        if (this._prevDirection && this._prevDirection !== direction) { // reset after direction change\r\n            this._pixelsCorrection = 0;\r\n        }\r\n        this._prevDirection = direction;\r\n\r\n        const pixelDiffX = Math.abs(this._curX - this._prevX ); // save x diff before update\r\n        const swipeLength = (pixelDiffX + this._pixelsCorrection) * this._settings.dragModifier ;\r\n\r\n        this._prevX = this._curX; // update before any returns\r\n        this._prevY = this._curY; // update Y to prevent wrong angle after many vertical moves\r\n\r\n\r\n        if ( (direction !== 'left' && direction !== 'right') || // Ignore vertical directions\r\n            (swipeLength < this._threshold) ) { // Ignore if less than 1 frame\r\n            this._pixelsCorrection += pixelDiffX; // skip this mousemove, but save horizontal movement\r\n            return;\r\n        }\r\n\r\n\r\n        const progress = swipeLength / this._data.canvas.element.clientWidth; // full width swipe means full length animation\r\n        let deltaFrames = Math.floor(progress * this._data.totalImages);\r\n        deltaFrames = deltaFrames % this._data.totalImages;\r\n        // Add pixels to the next swipeMove if frames equivalent of swipe is not an integer number,\r\n        // e.g one frame is 10px, swipeLength is 13px, we change 1 frame and add 3px to the next swipe,\r\n        // so fullwidth swipe is always rotate sprite for 1 turn (with 'dragModifier' = 1).\r\n        // I divide the whole value by dragModifier because it seems to work as it should\r\n        this._pixelsCorrection = (swipeLength - (this._threshold * deltaFrames)) / this._settings.dragModifier;\r\n        let isReverse = (direction === 'left'); // left means backward (reverse: true)\r\n        if (this._settings.inversion) isReverse = !isReverse;// invert direction\r\n        this._changeFrame(this._getNextFrame( deltaFrames, isReverse )); // left means backward (reverse: true)\r\n        this._data.canvas.element.dispatchEvent( new CustomEvent(eventPrefix + 'drag-change',\r\n            { detail: {\r\n                frame: this._data.currentFrame,\r\n                direction,\r\n            } })\r\n        );\r\n    }\r\n    #swipeEnd(){\r\n        //if ( swipeObject.curX === undefined ) return; // there is no x coord on touch end\r\n        this._curX = this._curY = this._prevX = this._prevY = null;\r\n        this._isSwiping = false;\r\n        this._data.canvas.element.style.cursor = null;\r\n        this._lastInteractionTime = new Date().getTime();\r\n        this._data.canvas.element.dispatchEvent( new CustomEvent(eventPrefix + 'drag-end',\r\n            { detail: {\r\n                frame: this._data.currentFrame,\r\n                direction: this._prevDirection,\r\n            } })\r\n        );\r\n    }\r\n    #swipeDirection(){\r\n        let r, swipeAngle,\r\n            xDist = this._prevX - this._curX,\r\n            yDist = this._prevY - this._curY;\r\n\r\n        // taken from slick.js\r\n        r = Math.atan2(yDist, xDist);\r\n        swipeAngle = Math.round(r * 180 / Math.PI);\r\n        if (swipeAngle < 0) swipeAngle = 360 - Math.abs(swipeAngle);\r\n\r\n        if ( (swipeAngle >= 0 && swipeAngle <= 60) || (swipeAngle <= 360 && swipeAngle >= 300 )) return 'left';\r\n        else if ( swipeAngle >= 120 && swipeAngle <= 240 ) return 'right';\r\n        else if ( swipeAngle >= 241 && swipeAngle <= 299 ) return 'bottom';\r\n        else return 'up';\r\n    }\r\n\r\n    /**\r\n     * Idea from https://github.com/giniedp/spritespin/blob/master/src/plugins/input-drag.ts#L45\r\n     * @param {Event} event\r\n     */\r\n    #maybeDisableScroll(event){\r\n        // always prevent\r\n        if (this._settings.touchScrollMode === \"preventPageScroll\") event.preventDefault();\r\n        // check timer\r\n        if (this._settings.touchScrollMode === \"pageScrollTimer\") {\r\n            const now = new Date().getTime();\r\n            // less time than delay => prevent page scroll\r\n            if (this._lastInteractionTime && (now - this._lastInteractionTime < this._settings.pageScrollTimerDelay) ){\r\n                event.preventDefault();\r\n            } else { // more time than delay or first interaction => clear timer\r\n                this._lastInteractionTime = null;\r\n            }\r\n        }\r\n        // if touchScrollMode=\"allowPageScroll\" => don't prevent scroll\r\n    }\r\n}\r\n","import { normalizeFrameNumber, uppercaseFirstChar } from \"./utils\";\r\nimport { validateInitParameters, defaultSettings } from \"./settings\";\r\nimport ImagePreloader from \"./ImagePreloader\";\r\nimport Render from \"./Render\";\r\nimport Animation from \"./Animation\";\r\nimport Poster from \"./Poster\";\r\nimport DragInput from \"./DragInput\";\r\n\r\n/**\r\n * Animate Images {@link https://github.com/its2easy/animate-images/}\r\n * @example\r\n * let pluginInstance = new AnimateImages(document.querySelector('canvas'), {\r\n *    images: ['img1.jpg', 'img2.jpg', 'img3.jpg'],\r\n *    loop: true,\r\n *    draggable: true,\r\n *    fps: 60,\r\n * });\r\n */\r\nexport default class AnimateImages{\r\n    #settings;\r\n    #data = {\r\n        currentFrame: 1,\r\n        totalImages: null,\r\n        loadedImagesArray: [], // images objects [0 - (images.length-1)]\r\n        deferredAction: null, // call after full preload\r\n        isAnyFrameChanged: false,\r\n        /** @type AnimateImages */\r\n        pluginApi: undefined,\r\n        canvas: {\r\n            element: null,\r\n            ratio: null,\r\n        },\r\n    }\r\n    #boundUpdateCanvasSizes;\r\n    //Classes\r\n    #preloader;\r\n    #render;\r\n    #animation;\r\n    #poster;\r\n    #dragInput;\r\n\r\n    /**\r\n     * Creates plugin instance\r\n     * @param {HTMLCanvasElement} node - canvas element\r\n     * @param {PluginOptions} options\r\n     */\r\n    constructor(node, options){\r\n        validateInitParameters(node, options);\r\n        this.#settings = {...defaultSettings, ...options};\r\n        this.#data.totalImages = this.#settings.images.length;\r\n        this.#data.canvas.element = node;\r\n        this.#data.pluginApi = this;\r\n        this.#boundUpdateCanvasSizes = this.#updateCanvasSizes.bind(this)\r\n        this.#initPlugin();\r\n    }\r\n\r\n    #initPlugin(){\r\n        this.#render = new Render( {settings: this.#settings, data: this.#data} );\r\n        this.#animation = new Animation(\r\n            {settings: this.#settings, data: this.#data, changeFrame:  this.#changeFrame.bind(this)} );\r\n        this.#updateCanvasSizes();\r\n        if ( this.#settings.poster ) this.#setupPoster();\r\n        this.#toggleResizeHandler(true);\r\n        this.#preloader = new ImagePreloader({\r\n            settings: this.#settings,\r\n            data: this.#data,\r\n            updateImagesCount: this.#updateImagesCount.bind(this),\r\n            getFramesLeft: this.#getFramesLeft.bind(this),\r\n        });\r\n        if (this.#settings.preload === 'all' || this.#settings.preload === \"partial\"){\r\n            let preloadNumber = (this.#settings.preload === 'all') ? this.#data.totalImages : this.#settings.preloadNumber;\r\n            if (preloadNumber === 0) preloadNumber = this.#data.totalImages;\r\n            this.#preloader._startLoading(preloadNumber);\r\n        }\r\n        if (this.#settings.autoplay) this.play();\r\n        if ( this.#settings.draggable ) this.#toggleDrag(true);\r\n    }\r\n\r\n    #changeFrame(frameNumber){\r\n        if (frameNumber === this.#data.currentFrame && this.#data.isAnyFrameChanged) return;//skip same frame, except first drawing\r\n        if ( !this.#data.isAnyFrameChanged ) this.#data.isAnyFrameChanged = true;\r\n\r\n        this.#animateCanvas(frameNumber);\r\n        this.#data.currentFrame = frameNumber;\r\n    }\r\n\r\n    #animateCanvas(frameNumber){\r\n        this.#render._clearCanvas();\r\n        this.#render._drawFrame( this.#data.loadedImagesArray[frameNumber - 1] );\r\n    }\r\n\r\n\r\n    #updateCanvasSizes(){\r\n        const canvas = this.#data.canvas;\r\n        /**\r\n         * +++RATIO SECTION+++\r\n         * If no options.ratio, inline canvas width/height will be used (2:1 if not set)\r\n         * Real canvas size is controlled by CSS, inner size will be set based on CSS width and ratio (height should be \"auto\")\r\n         * If height if fixed in CSS, ratio can't be used and inner height will be equal to CSS-defined height\r\n         */\r\n        if ( this.#settings.ratio ) canvas.ratio = this.#settings.ratio;\r\n        // Initial ratio shouldn't be changed. Ratio will only modified after setOption(\"ratio\", newRatio),\r\n        // or after setting css height and plugin.updateCanvas()\r\n        else if ( !canvas.ratio ) {\r\n            canvas.ratio = canvas.element.width / canvas.element.height;\r\n        }\r\n\r\n\r\n        // +++SIZE SECTION+++\r\n        // mainSide is the side from responsiveAspect, it should be controlled by CSS, secondarySide value will be\r\n        // controlled by script\r\n        const dpr = (window.devicePixelRatio).toFixed(2) || 1; // sometimes dpr is like 2.00000000234\r\n        let mainSide = this.#settings.responsiveAspect;// width or height\r\n        let clientMainSide =  \"client\" + uppercaseFirstChar(mainSide); // clientWidth or clientHeight\r\n        let secondarySide = (mainSide === \"width\") ? \"height\" : \"width\";\r\n        let clientSecondarySide = \"client\" + uppercaseFirstChar(secondarySide);// clientWidth or clientHeight\r\n\r\n        // changing width and height won't change real clientWidth and clientHeight if size is fixed by CSS\r\n        const initialClientMainSide = canvas.element[clientMainSide];\r\n        canvas.element[mainSide] = canvas.element[clientMainSide] * dpr;\r\n\r\n        // !!! ONLY if dpr != 1 and canvas css mainSide was not defined => changed width will change clientWidth\r\n        // so we need to recalculate width based on new clientWidth\r\n        if (initialClientMainSide !== canvas.element[clientMainSide]) {\r\n            canvas.element[mainSide] = canvas.element[clientMainSide] * dpr;\r\n        }\r\n\r\n        let rawNewValue = (mainSide === \"width\") ? canvas.element.clientWidth / canvas.ratio : canvas.element.clientHeight * canvas.ratio;\r\n        canvas.element[secondarySide] = Math.round(rawNewValue) * dpr; // \"round\" for partial fix to rounding pixels error\r\n\r\n\r\n        // +++CORRECTION SECTION+++\r\n        const secondaryValueDifference = Math.abs(canvas.element[secondarySide] - canvas.element[clientSecondarySide] * dpr);// diff in pixels\r\n        // previously I compared with 1px to check subpixel errors, but error is somehow related to dpr, so we compare with \"1px * dpr\" or just \"dpr\"\r\n        if ( secondaryValueDifference > dpr) { // if secondarySide is locked by CSS\r\n            let newRatio = canvas.element.clientWidth / canvas.element.clientHeight; // ratio from \"real\" canvas element\r\n            // <1% change => calculation error; >1% change => secondarySide size is locked with css\r\n            if ( Math.abs(canvas.ratio - newRatio) / canvas.ratio > 0.01 ) {\r\n                canvas.element[secondarySide] = canvas.element[clientSecondarySide] * dpr;\r\n                canvas.ratio = newRatio;\r\n            } else { // small diff between inner and real values, adjust to prevent errors accumulation\r\n                canvas.element[secondarySide] = (mainSide === \"width\") ? canvas.element.width / canvas.ratio : canvas.element.height * canvas.ratio;\r\n            }\r\n        } else if (secondaryValueDifference > 0 && secondaryValueDifference <= dpr ) { // rare case, pixels are fractional\r\n            // so just update inner canvas size baser on main side and ratio\r\n            canvas.element[secondarySide] = (mainSide === \"width\") ? canvas.element.width / canvas.ratio : canvas.element.height * canvas.ratio;\r\n        }\r\n\r\n        if ( this.#dragInput ) this.#dragInput._updateThreshold()\r\n        this.#maybeRedrawFrame(); // canvas is clear after resize\r\n    }\r\n\r\n    #updateImagesCount(){\r\n        if ( this.#dragInput ) this.#dragInput._updateThreshold();\r\n        this.#animation._updateDuration();\r\n    }\r\n    #maybeRedrawFrame(){\r\n        if ( this.#data.isAnyFrameChanged ) { // frames were drawn\r\n            this.#animateCanvas(this.#data.currentFrame);\r\n        } else if ( this.#poster ) { // poster exists\r\n            this.#poster._redrawPoster();\r\n        }\r\n        // don't redraw in initial state, or if poster onLoad is not finished yet\r\n    }\r\n\r\n    #toggleDrag(enable){\r\n        if (enable) {\r\n            if ( !this.#dragInput ) this.#dragInput = new DragInput({\r\n                data: this.#data,\r\n                settings: this.#settings,\r\n                changeFrame: this.#changeFrame.bind(this),\r\n                getNextFrame: this.#animation._getNextFrame.bind(this.#animation)\r\n            });\r\n            this.#dragInput._enableDrag();\r\n        } else {\r\n            if (this.#dragInput) this.#dragInput._disableDrag();\r\n        }\r\n    }\r\n\r\n    #setupPoster(){\r\n        if (!this.#poster) this.#poster = new Poster(\r\n            {\r\n                settings: this.#settings,\r\n                data: this.#data,\r\n                drawFrame: this.#render._drawFrame.bind(this.#render)\r\n            });\r\n        this.#poster._loadAndShowPoster();\r\n    }\r\n\r\n    #toggleResizeHandler(add = true) {\r\n        if ( add ) window.addEventListener(\"resize\", this.#boundUpdateCanvasSizes);\r\n        else window.removeEventListener(\"resize\", this.#boundUpdateCanvasSizes);\r\n    }\r\n\r\n    #getFramesLeft(){\r\n        return this.#animation._framesLeftToPlay;\r\n    }\r\n\r\n    // Pubic API\r\n\r\n    /**\r\n     * Start animation\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    play(){\r\n        if ( this.#animation._isAnimating ) return this;\r\n        if ( this.#preloader._isAnyPreloadFinished ) {\r\n            this.#animation._play();\r\n            this.#preloader._maybePreloadAll();\r\n        } else {\r\n            this.#data.deferredAction = this.play.bind(this);\r\n            this.#preloader._startLoading();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Stop animation\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    stop(){\r\n        this.#animation._stop();\r\n        return this;\r\n    }\r\n    /**\r\n     * Toggle between start and stop\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    toggle(){\r\n        if ( !this.#animation._isAnimating ) this.play();\r\n        else this.stop();\r\n        return this;\r\n    }\r\n    /**\r\n     * Show next frame\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    next(){\r\n        if ( this.#preloader._isAnyPreloadFinished ) {\r\n            this.stop();\r\n            this.#changeFrame( this.#animation._getNextFrame(1) );\r\n            this.#preloader._maybePreloadAll();\r\n        } else {\r\n            this.#data.deferredAction = this.next.bind(this);\r\n            this.#preloader._startLoading();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Show previous frame\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    prev(){\r\n        if ( this.#preloader._isAnyPreloadFinished ) {\r\n            this.stop();\r\n            this.#changeFrame( this.#animation._getNextFrame(1, !this.#settings.reverse) );\r\n            this.#preloader._maybePreloadAll();\r\n        } else {\r\n            this.#data.deferredAction = this.prev.bind(this);\r\n            this.#preloader._startLoading();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Show a frame with a specified number (without animation)\r\n     * @param {number} frameNumber - Number of the frame to show\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    setFrame(frameNumber){\r\n        if ( this.#preloader._isAnyPreloadFinished ) {\r\n            this.stop();\r\n            this.#changeFrame(normalizeFrameNumber(frameNumber, this.#data.totalImages));\r\n            this.#preloader._maybePreloadAll();\r\n        } else {\r\n            this.#data.deferredAction = this.setFrame.bind(this, frameNumber);\r\n            this.#preloader._startLoading();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Start animation, that plays until the specified frame number\r\n     * @param {number} frameNumber - Target frame number\r\n     * @param {Object} [options] - Options\r\n     * @param {boolean} [options.shortestPath=false] - If set to true and loop enabled, will use the shortest path\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    playTo(frameNumber, options){\r\n        frameNumber = normalizeFrameNumber(frameNumber, this.#data.totalImages);\r\n\r\n        const innerPathDistance = Math.abs(frameNumber - this.#data.currentFrame), // not crossing edge frames\r\n            outerPathDistance = this.#data.totalImages - innerPathDistance, // crossing edges frames\r\n            shouldUseOuterPath = this.#settings.loop && options?.shortestPath && (outerPathDistance < innerPathDistance);\r\n\r\n        if ( !shouldUseOuterPath ) { // Inner path (default)\r\n            // long conditions to make them more readable\r\n            if (frameNumber > this.#data.currentFrame) this.setReverse(false); // move forward\r\n            else this.setReverse(true); // move backward\r\n        } else { // Outer path\r\n            if (frameNumber < this.#data.currentFrame) this.setReverse(false); // move forward\r\n            else this.setReverse(true); // move backward\r\n        }\r\n\r\n        return this.playFrames( (shouldUseOuterPath) ? outerPathDistance : innerPathDistance );\r\n    }\r\n    /**\r\n     * Start animation in the current direction with the specified number of frames in the queue\r\n     * @param {number} [numberOfFrames=0] - Number of frames to play\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    playFrames(numberOfFrames = 0){\r\n        if ( this.#preloader._isAnyPreloadFinished ) {\r\n            numberOfFrames = Math.floor(numberOfFrames);\r\n            if (numberOfFrames < 0) { // first frame should be rendered to replace poster or transparent bg, so allow 0 for the first time\r\n                return this.stop(); //empty animation, stop() to trigger events and callbacks\r\n            }\r\n\r\n            // if this is the 1st animation, we should add 1 frame to the queue to draw the 1st initial frame\r\n            // because 1st frame is not drawn by default (1 frame will replace poster or transparent bg)\r\n            if (!this.#data.isAnyFrameChanged) numberOfFrames += 1;\r\n            if (numberOfFrames <= 0) { // with playFrames(0) before any actions numberOfFrames=1, after any frame change numberOfFrames=0\r\n                return this.stop(); //empty animation\r\n            }\r\n\r\n            this.#animation._framesLeftToPlay = numberOfFrames;\r\n            this.play();\r\n            this.#preloader._maybePreloadAll();\r\n        } else {\r\n            this.#data.deferredAction = this.playFrames.bind(this, numberOfFrames);\r\n            this.#preloader._startLoading();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Change the direction of the animation. Alias to <b>setOption('reverse', true)</b>\r\n     * @param {boolean} [reverse=true] - true for backward animation, false for forward, default \"true\"\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    setReverse(reverse = true){\r\n        this.#settings.reverse = !!reverse;\r\n        return this;\r\n    }\r\n    /**\r\n     * Get current reverse option. Alias to <b>getOption('reverse')</b>\r\n     * @returns {boolean} - reverse or not\r\n     */\r\n    getReverse() { return this.#settings.reverse; }\r\n    /**\r\n     * Change the direction of the animation. It does the opposite effect of <b>setReverse()</b>\r\n     * @param {boolean} [forward=true] - true for forward animation, false for backward, default \"true\"\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    setForward(forward = true){\r\n        this.#settings.reverse = !forward;\r\n        return this;\r\n    }\r\n    /**\r\n     * Start preload specified number of images, can be called multiple times.\r\n     * If all the images are already loaded, then nothing will happen\r\n     * @param {number} number - Number of images to load. If not specified, all remaining images will be loaded.\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    preloadImages(number= undefined){\r\n        number = number ?? this.#settings.images.length;\r\n        this.#preloader._startLoading(number);\r\n        return this;\r\n    }\r\n    /**\r\n     * Calculate new canvas dimensions. Should be called after the canvas size was changed manually\r\n     * Called automatically after page resize\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    updateCanvas(){\r\n        this.#updateCanvasSizes();\r\n        return this;\r\n    }\r\n    /**\r\n     * Returns option value\r\n     * @param {string} option - Option name. All options are allowed\r\n     * @returns {*} - Current option value\r\n     */\r\n    getOption(option){\r\n        if ( option in this.#settings ) {\r\n            return this.#settings[option];\r\n        } else {\r\n            console.warn(`${option} is not a valid option`);\r\n        }\r\n    }\r\n    /**\r\n     * Set new option value\r\n     * @param {string} option - Option name. Allowed options: fps, loop, reverse, inversion, ratio, fillMode, draggable, dragModifier,\r\n     * touchScrollMode, pageScrollTimerDelay, onPreloadFinished, onPosterLoaded, onAnimationEnd, onBeforeFrame, onAfterFrame\r\n     * @param {*} value - New value\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    setOption(option, value) {\r\n        const allowedOptions = ['fps', 'loop', 'reverse', 'inversion', 'ratio', 'fillMode', 'draggable', 'dragModifier', 'touchScrollMode',\r\n            'pageScrollTimerDelay', 'onPreloadFinished', 'onFastPreloadFinished', 'onPosterLoaded', 'onAnimationEnd', 'onBeforeFrame', 'onAfterFrame'];\r\n        if (allowedOptions.includes(option)) {\r\n           this.#settings[option] = value;\r\n           if (option === 'fps') this.#animation._updateDuration();\r\n           if (option === 'ratio') this.#updateCanvasSizes();\r\n           if (option === 'fillMode') this.#updateCanvasSizes();\r\n           if (option === 'draggable') this.#toggleDrag(value);\r\n           if (option === 'dragModifier') this.#settings.dragModifier = Math.abs(+value);\r\n        } else {\r\n            console.warn(`${option} is not allowed in setOption`);\r\n        }\r\n        return this;\r\n    }\r\n    /** @returns {number} - current frame number */\r\n    getCurrentFrame() { return this.#data.currentFrame }\r\n    /** @returns {number} - total frames (considering loading errors) */\r\n    getTotalImages() { return this.#data.totalImages }\r\n    /** @returns {number} - current canvas ratio */\r\n    getRatio() { return this.#data.canvas.ratio }\r\n    /** @returns {boolean} - animating or not */\r\n    isAnimating() { return this.#animation._isAnimating }\r\n    /** @returns {boolean} - returns true if a drag action is in progress */\r\n    isDragging() {\r\n        if ( this.#dragInput ) return this.#dragInput._isSwiping;\r\n        return false\r\n    }\r\n    /** @returns {boolean} - is preload finished */\r\n    isPreloadFinished() { return this.#preloader._isPreloadFinished }\r\n    /** @returns {boolean} - is fast preview mode preload finished */\r\n    isFastPreloadFinished() { return this.#preloader._isFastPreloadFinished }\r\n    /** @returns {boolean} - is loaded with errors */\r\n    isLoadedWithErrors() { return this.#preloader._isLoadedWithErrors }\r\n\r\n    /**\r\n     * Stop the animation and return to the first frame\r\n     * @returns {AnimateImages} - plugin instance\r\n     */\r\n    reset(){\r\n        if ( this.#preloader._isAnyPreloadFinished ) {\r\n            this.stop();\r\n            this.#changeFrame(normalizeFrameNumber(1, this.#data.totalImages));\r\n            this.#preloader._maybePreloadAll();\r\n        } else {\r\n            this.#data.deferredAction = this.reset.bind(this);\r\n            this.#preloader._startLoading();\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Stop animation, remove event listeners and clear the canvas. Method doesn't remove canvas element from the DOM\r\n     */\r\n    destroy(){\r\n        this.stop();\r\n        this.#render._clearCanvas();\r\n        this.#toggleDrag(false);\r\n        this.#toggleResizeHandler(false);\r\n    }\r\n}\r\n/**\r\n * NOTE\r\n * All internal classes have public methods and properties start with _, that's for terser plugin that can mangle internal names\r\n * by regexp. It's reducing size by about 20%. Private (#) properties are not used in internal classes because babel use wrapper\r\n * functions for these properties, which increases the size even though private names are minified\r\n */\r\n\r\n/**\r\n * @typedef {Object} PluginOptions\r\n * @property {Array<string>} images - Array with images URLs (required)\r\n * @property {'all'|'partial'|'none'} [preload=\"all\"] - Preload mode (\"all\", \"none\", \"partial\")\r\n * @property {number} [preloadNumber=0] - Number of preloaded images when <b>preload: \"partial\"</b>, 0 for all\r\n * @property {string} [poster] - Url of a poster image, to show before load\r\n * @property {number} [fps=30] - FPS when playing. Determines the duration of the animation (for example 90 images and 60\r\n * fps = 1.5s, 90 images and 30fps = 3s)\r\n * @property {boolean} [loop=false] - Loop the animation\r\n * @property {boolean} [autoplay=false] - Autoplay\r\n * @property {boolean} [reverse=false] - Reverse direction\r\n * reverse means forward or backward, and inversion determines which direction is forward. Affects animation and drag\r\n * @property {number} [ratio] - Canvas width/height ratio, it has higher priority than inline canvas width and height\r\n * @property {'cover'|'contain'} [fillMode=\"cover\"] - Fill mode to use if canvas and image aspect ratios are different\r\n * (\"cover\" or \"contain\")\r\n * @property {boolean} [draggable=false] - Draggable by mouse or touch\r\n * @property {boolean} [inversion=false] - Inversion changes drag direction\r\n * @property {number} [dragModifier=1] - Sensitivity factor for user interaction. Only positive numbers are allowed\r\n * @property {'pageScrollTimer' | 'preventPageScroll' | 'allowPageScroll'} [touchScrollMode = \"pageScrollTimer\"] - Page\r\n * scroll behavior with touch events (preventPageScroll,allowPageScroll, pageScrollTimer)\r\n * @property {number} [pageScrollTimerDelay=1500] - Time in ms when touch scroll will be disabled during interaction\r\n * if <b>touchScrollMode: \"pageScrollTimer\"<b>\r\n * @property {'width'|'height'} [responsiveAspect=\"width\"] - Which side will be responsive (controlled by css)\r\n * @property {Object|false} [fastPreview=false] - Special mode for interactivity after loading only a part of the pictures\r\n * @property {Array<string>} [fastPreview.images] - images urls for fastPreview mode (<b>Required</b> if fastPreview is enabled)\r\n * @property {number} [fastPreview.fpsAfter] - fps value that will be applied after the full list of images is loaded\r\n * @property {function(number):number} [fastPreview.matchFrame] - A function that takes the frame number of the short set\r\n * and returns the frame number of the full set, to prevent jump after full load.\r\n * @property {function(AnimateImages):void} [onPreloadFinished] - Occurs when all image files have been loaded\r\n * @property {function(AnimateImages):void} [onFastPreloadFinished] - Occurs when all fastPreview mode images have been loaded\r\n * @property {function(AnimateImages):void} [onPosterLoaded] - Occurs when poster image is fully loaded\r\n * @property {function(AnimateImages):void} [onAnimationEnd] - Occurs when animation has ended\r\n * @property {function(AnimateImages, FrameInfo):void} [onBeforeFrame] - Occurs before new frame\r\n * @property {function(AnimateImages, FrameInfo):void} [onAfterFrame] - Occurs after the frame was drawn\r\n */\r\n\r\n/**\r\n * @typedef {Object} FrameInfo\r\n * @property {CanvasRenderingContext2D} context - canvas context\r\n * @property {number} width - internal canvas width\r\n * @property {number} height - internal canvas height\r\n * */\r\n"],"names":[],"mappings":"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"}